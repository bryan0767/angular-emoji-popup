<html>
<head>
  <link href="css/main.min.css" type="text/css" rel="stylesheet" />
</head>
<body ng-controller="emojiController">
{{emojiMessage.messagetext}}
<br /><br />
{{content}}
<div emoji-form emoji-message="emojiMessage" on-submit="updateValues" style="margin-top:100px; margin-left:200px">
    <textarea id="messageInput" ng-model="content['0']"></textarea>
    <button id="emojibtn" data-position="top">
        <i class="icon icon-emoji"></i>
    </button>
</div>
<h1 ng-click="showTest = !showTest;">Testing</h1>
<div ng-if="showTest">
  <div emoji-form emoji-message="emojiMessageTest" on-submit="updateValues" style="margin-top:100px; margin-left:200px">
      <textarea id="messageInput" ng-model="content['0']"></textarea>
      <button id="emojibtn" position="top">
          <i class="icon icon-emoji"></i>
      </button>
  </div>
</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.7/angular-sanitize.min.js"></script>
<script type="text/javascript" src="js/config.js"></script>
<script type="text/javascript" src="js/emoji.min.js"></script>
<!-- <script type="text/javascript" src="js/emoji.min.js"></script> -->

<script type="text/javascript">

var demoApp = angular.module("demoApp", ['ngSanitize', 'emojiApp']);

angular.module("demoApp").config(function($sceProvider) {
  $sceProvider.enabled(true);
  $.emojiarea.path = "images/";
  $.emojiarea.spritesheetPath = 'images/emojisprite_!.png';
});

emojiApp.controller('emojiController', ['$scope', function($scope) {
    $scope.emojiMessage = {};
    $scope.emojiMessageTest = {};
    $scope.showTest = false;
    $scope.content = {};
    $scope.content['0'] = "asdfasdf asfafasdasda :smile:";
    $scope.updateValues = function(attrs, evt) {
      evt.preventDefault();
      evt.stopPropagation();
      console.log(evt.target.innerHTML);
      console.log("ATTRS");
      console.log(attrs);
      evt.target.innerHTML = "";
    };
}]);

angular.element(document).ready(function() {
  angular.bootstrap(document, ['demoApp']);
});

</script>

</body>

</html>
